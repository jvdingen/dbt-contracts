kind: DataContract
apiVersion: v3.1.0
id: ec2a112d-5cfe-49f3-8760-f9cfb4597544
name: Online Transactions Contract
version: 1.0.0
status: active
schema:
  - name: online_transactions
    physicalName: raw_online_transactions
    physicalType: table
    description: Online transaction records
    properties:
      - name: transaction_id
        logicalType: string
        physicalType: uuid
        primaryKey: true
        required: true
        description: Unique transaction identifier
        quality:
          - metric: duplicateValues
            description: Transaction IDs must be unique
            mustBe: 0
      - name: amount
        logicalType: number
        physicalType: decimal
        required: true
        description: Transaction amount
        quality:
          - metric: nullValues
            description: Amount must not be null
            mustBe: 0
    quality:
      - type: sql
        description: Transaction amounts must be positive
        query: amount > 0
        mustBe: 0
      - type: custom
        engine: dbt
        description: Custom dict test
        implementation:
          my_custom_test:
            arg1: value1
      - type: custom
        engine: dbt
        description: Custom string test
        implementation: my_simple_test
      - type: custom
        engine: dbt
        description: Warn-level test
        severity: warn
        implementation:
          my_warn_test:
            threshold: 10
